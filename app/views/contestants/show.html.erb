<%= tag :div, class: "contestant_information", data: {id: @contestant_presenter.contestant.id, name: @contestant_presenter.contestant.name} %>

<div class="row">
<div class="col-md-6">
<div class="square-img-container">

<img class = "img-responsive img-fluid square-headshots" src="<%= @contestant_presenter.contestant.headshot %> " alt="contestant headshot">
</div>
</div>

<div class="col-md-6">
<h1 class = "cont-name"><%= @contestant_presenter.contestant.name %></h1>
<div class="contestant-info">


<p><i class="fa fa-heartbeat" aria-hidden="true"></i>  Age: <%= @contestant_presenter.contestant.age %></p>
<p><i class="fa fa-map-marker" aria-hidden="true"></i>   Hometown: <%= @contestant_presenter.contestant.hometown %></p>
<p><i class="fa fa-briefcase" aria-hidden="true"></i> Occupation: <%= @contestant_presenter.contestant.occupation %></p>
</div>
</div>
</div>
<br>

<nav class="navbar sticky-top navbar-expand-lg navbar-light bg-light">
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav">
      <li class="nav-item active">
        <a class="nav-link" href="#stats">Season Stats</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#personality-profile">Personality Profile</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#social-media">Social Media</a>
      </li>
    </ul>
  </div>
</nav>


<div class = "text-center contestant-details" data-spy="scroll" data-offset="0">
  <div class="text-left section-header">
    <h4 id="stats">Season Stats</h4>
    <div class = "section-underline"></div>
  </div>

    <div id="container"></div>
    <div class="row text-center stats-small-cards">

      <div class = "col-md-3">
        <div class="card stats-card">
          <div class="card-header stats-header">
            <h5>Ranking</h5>
          </div>
          <div class="card-body">
            <br>
            <div class="medal">
            <img class = "medal-img" src="https://image.flaticon.com/icons/png/128/179/179249.png" alt="">
          </div><br>

             <h4><%= @contestant_presenter.contestant.ranking %> Place</h4>
           </div>
         </div>
       </div>

       <div class = "col-md-3">
         <div class="card stats-card">
           <div class="card-header stats-header">
             <h5>Points this Week</h5>
           </div>
           <div class="card-body">
             <br>
             <div class="">
              <i class="fa fa-star points" aria-hidden="true"></i>
            </div>

             <h4><%= @contestant_presenter.contestant.weekly_points(current_week) %></h4>
            </div>
          </div>
        </div>

        <div class = "col-md-3">
          <div class="card stats-card">
            <div class="card-header stats-header">
              <h5>Points this Season</h5>
            </div>
            <div class="card-body">
              <br>
              <div class="">
                <i class="fa fa-star points" aria-hidden="true"></i>
                <i class="fa fa-star points" aria-hidden="true"></i>
               <i class="fa fa-star points" aria-hidden="true"></i>
             </div>

              <h4><%= @contestant_presenter.contestant.season_points %></h4>
             </div>
           </div>
         </div>

         <div class = "col-md-3">
           <div class="card stats-card">
             <div class="card-header stats-header">
               <h5>Highest Scoring Play of the Season</h5>
             </div>
             <div class="card-body">
               <h5 class = "play-points"><i class="fa fa-minus" aria-hidden="true"></i> <%= @contestant_presenter.contestant.biggest_play.point_value %> Points <i class="fa fa-minus" aria-hidden="true"></i></h5>
                <%= @contestant_presenter.contestant.biggest_play.description %><br>
              </div>
            </div>
          </div>
    </div>
    <div class="text-left section-header">
      <h4 id="personality-profile">Personality</h4>
      <div class = "section-underline"></div>
    </div>
  <% cache "contestant-#{@contestant_presenter.contestant.id}-personality" do %>
  <div class="row text-center personality">
    <% @contestant_presenter.personality.traits.each do |trait| %>
      <div class="col-md-2">
        <p><%= trait.title %></p>
        <div class = "circle-chart" id="trait-<%= trait.title.downcase %>"  data-percent="<%= trait.score * 100 %>"></div>
      </div>
      <% end %>
      <% end %>
  </div>
  <div class="text-left section-header">
    <h4 id="social-media">Social Media</h4>
    <div class = "section-underline"></div>
  </div>
  <p>
    <a class="twitter-timeline" href="https://twitter.com/<%= @contestant_presenter.contestant.twitter_handle %>">Recent Tweets by <%= @contestant_presenter.contestant.name %></a> <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </p>
</div>
